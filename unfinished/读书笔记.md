# 权威指南

总体来说，Cortex‐M3 支持 4GB 存储空间，如图所示地被划分成若干区域：

![image-20240115132627535](./assets/image-20240115132627535.png)

# 点亮LED（仿库函数写法）

如何得到外设地址？

可以看 参考手册的2.3节存储器映像找到对应的外设地址，然后再加上偏移地址。

![image-20240115135900579](./assets/image-20240115135900579.png)

比如APB2外设时钟使能寄存器RCC_APB2ENR是0x40021000+0x18=0x40021018

![image-20240115140431046](./assets/image-20240115140431046.png)

GPIO有7个寄存器，每个寄存器是4字节

![参考手册](./assets/image-20240115143922460.png)

1. <center>这里放标题</center>

![野火](./assets/image-20240115144124708.png)



ODR是输出寄存器，BSRR和BRR都是用来设置ODR的。

端口配置低寄存器配置低8位，高寄存器配置高8位

![STM32F10xxx参考手册](./assets/image-20240115134127860.png)

GPIO_init就是配置CNFy[1:0]和MODEy[1:0]这四个位

![参考手册102](./assets/image-20240115153325127.png)

先清零，再根据需要赋值

![image-20240115134944149](./assets/image-20240115134944149.png)

到这里讲的都是最基础的库函数是如何实现的

------

